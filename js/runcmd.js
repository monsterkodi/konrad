// koffee 0.45.0

/*
00000000   000   000  000   000   0000000  00     00  0000000  
000   000  000   000  0000  000  000       000   000  000   000
0000000    000   000  000 0 000  000       000000000  000   000
000   000  000   000  000  0000  000       000 0 000  000   000
000   000   0000000   000   000   0000000  000   000  0000000
 */
var _, args, childp, klog, konradError, os, pretty, ref, runcmd, slash;

ref = require('kxk'), args = ref.args, slash = ref.slash, childp = ref.childp, os = ref.os, klog = ref.klog, _ = ref._;

pretty = require('./pretty');

konradError = require('./error');

runcmd = function(cmd, cmdargs, cwd) {
    var cmdpath, command, err;
    try {
        cmdpath = slash.resolve(slash.join(__dirname, '..', 'bin', cmd));
        if (slash.win()) {
            command = "bash " + cmdpath + " " + cmdargs;
        } else {
            command = cmdpath + " " + cmdargs;
        }
        if (args.verbose) {
            klog("ðŸ”§ ", cmd.gray.reset, pretty.filePath(cmdpath), cmdargs.green);
        }
        childp.execSync(command, {
            cwd: cwd,
            encoding: 'utf8',
            stdio: 'inherit',
            shell: true
        });
    } catch (error) {
        err = error;
        konradError("command error", "command '" + cmd + "' (" + command + ") " + 'failed!', err);
        return false;
    }
    return true;
};

module.exports = runcmd;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVuY21kLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBQUEsSUFBQTs7QUFRQSxNQUF1QyxPQUFBLENBQVEsS0FBUixDQUF2QyxFQUFFLGVBQUYsRUFBUSxpQkFBUixFQUFlLG1CQUFmLEVBQXVCLFdBQXZCLEVBQTJCLGVBQTNCLEVBQWlDOztBQUVqQyxNQUFBLEdBQWMsT0FBQSxDQUFRLFVBQVI7O0FBQ2QsV0FBQSxHQUFjLE9BQUEsQ0FBUSxTQUFSOztBQUVkLE1BQUEsR0FBUyxTQUFDLEdBQUQsRUFBTSxPQUFOLEVBQWUsR0FBZjtBQUVMLFFBQUE7QUFBQTtRQUNJLE9BQUEsR0FBVSxLQUFLLENBQUMsT0FBTixDQUFjLEtBQUssQ0FBQyxJQUFOLENBQVcsU0FBWCxFQUFzQixJQUF0QixFQUE0QixLQUE1QixFQUFtQyxHQUFuQyxDQUFkO1FBRVYsSUFBRyxLQUFLLENBQUMsR0FBTixDQUFBLENBQUg7WUFDSSxPQUFBLEdBQVUsT0FBQSxHQUFRLE9BQVIsR0FBZ0IsR0FBaEIsR0FBbUIsUUFEakM7U0FBQSxNQUFBO1lBR0ksT0FBQSxHQUFhLE9BQUQsR0FBUyxHQUFULEdBQVksUUFINUI7O1FBS0EsSUFBRyxJQUFJLENBQUMsT0FBUjtZQUNJLElBQUEsQ0FBSyxLQUFMLEVBQVksR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFyQixFQUE0QixNQUFNLENBQUMsUUFBUCxDQUFnQixPQUFoQixDQUE1QixFQUFzRCxPQUFPLENBQUMsS0FBOUQsRUFESjs7UUFHQSxNQUFNLENBQUMsUUFBUCxDQUFnQixPQUFoQixFQUNJO1lBQUEsR0FBQSxFQUFVLEdBQVY7WUFDQSxRQUFBLEVBQVUsTUFEVjtZQUVBLEtBQUEsRUFBVSxTQUZWO1lBR0EsS0FBQSxFQUFVLElBSFY7U0FESixFQVhKO0tBQUEsYUFBQTtRQWlCTTtRQUNGLFdBQUEsQ0FBWSxlQUFaLEVBQTZCLFdBQUEsR0FBWSxHQUFaLEdBQWdCLEtBQWhCLEdBQXFCLE9BQXJCLEdBQTZCLElBQTdCLEdBQWlDLFNBQTlELEVBQTJFLEdBQTNFO0FBQ0EsZUFBTyxNQW5CWDs7V0FvQkE7QUF0Qks7O0FBd0JULE1BQU0sQ0FBQyxPQUFQLEdBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4wMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgMDAwMDAwMCAgMDAgICAgIDAwICAwMDAwMDAwICBcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAwICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMFxuMDAwMDAwMCAgICAwMDAgICAwMDAgIDAwMCAwIDAwMCAgMDAwICAgICAgIDAwMDAwMDAwMCAgMDAwICAgMDAwXG4wMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDAgICAgICAgMDAwIDAgMDAwICAwMDAgICAwMDBcbjAwMCAgIDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgICAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgIFxuIyMjXG5cbnsgYXJncywgc2xhc2gsIGNoaWxkcCwgb3MsIGtsb2csIF8gfSA9IHJlcXVpcmUgJ2t4aydcblxucHJldHR5ICAgICAgPSByZXF1aXJlICcuL3ByZXR0eSdcbmtvbnJhZEVycm9yID0gcmVxdWlyZSAnLi9lcnJvcidcblxucnVuY21kID0gKGNtZCwgY21kYXJncywgY3dkKSAtPlxuICAgIFxuICAgIHRyeVxuICAgICAgICBjbWRwYXRoID0gc2xhc2gucmVzb2x2ZSBzbGFzaC5qb2luIF9fZGlybmFtZSwgJy4uJywgJ2JpbicsIGNtZFxuICAgICAgICBcbiAgICAgICAgaWYgc2xhc2gud2luKClcbiAgICAgICAgICAgIGNvbW1hbmQgPSBcImJhc2ggI3tjbWRwYXRofSAje2NtZGFyZ3N9XCJcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29tbWFuZCA9IFwiI3tjbWRwYXRofSAje2NtZGFyZ3N9XCJcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBhcmdzLnZlcmJvc2VcbiAgICAgICAgICAgIGtsb2cgXCLwn5SnIFwiLCBjbWQuZ3JheS5yZXNldCwgcHJldHR5LmZpbGVQYXRoKGNtZHBhdGgpLCBjbWRhcmdzLmdyZWVuXG4gICAgICAgICAgICBcbiAgICAgICAgY2hpbGRwLmV4ZWNTeW5jIGNvbW1hbmQsXG4gICAgICAgICAgICBjd2Q6wqAgICAgIGN3ZFxuICAgICAgICAgICAgZW5jb2Rpbmc6wqAndXRmOCdcbiAgICAgICAgICAgIHN0ZGlvOsKgICAgJ2luaGVyaXQnXG4gICAgICAgICAgICBzaGVsbDogICAgdHJ1ZVxuICAgICAgICAgIFxuICAgIGNhdGNoIGVyclxuICAgICAgICBrb25yYWRFcnJvciBcImNvbW1hbmQgZXJyb3JcIiwgXCJjb21tYW5kICcje2NtZH0nICgje2NvbW1hbmR9KSAjeydmYWlsZWQhJ31cIiwgZXJyXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIHRydWVcblxubW9kdWxlLmV4cG9ydHMgPSBydW5jbWRcbiJdfQ==
//# sourceURL=../coffee/runcmd.coffee