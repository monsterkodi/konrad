// koffee 0.30.0

/*
00000000   000   000  000   000   0000000  00     00  0000000  
000   000  000   000  0000  000  000       000   000  000   000
0000000    000   000  000 0 000  000       000000000  000   000
000   000  000   000  000  0000  000       000 0 000  000   000
000   000   0000000   000   000   0000000  000   000  0000000
 */
var _, args, childp, konradError, log, os, pretty, ref, runcmd, slash;

ref = require('kxk'), args = ref.args, slash = ref.slash, childp = ref.childp, os = ref.os, log = ref.log, _ = ref._;

pretty = require('./pretty');

konradError = require('./error');

runcmd = function(cmd, cmdargs, cwd) {
    var cmdpath, command, err;
    try {
        cmdpath = slash.resolve(slash.join(__dirname, '..', 'bin', cmd));
        if (slash.win()) {
            command = "bash " + cmdpath + " " + cmdargs;
        } else {
            command = cmdpath + " " + cmdargs;
        }
        if (args.verbose) {
            console.log("ðŸ”§ ", cmd.gray.reset, pretty.filePath(cmdpath), cmdargs.green);
        }
        childp.execSync(command, {
            cwd: cwd,
            encoding: 'utf8',
            stdio: 'inherit',
            shell: true
        });
    } catch (error) {
        err = error;
        konradError("command error", "command '" + cmd + "' (" + command + ") " + 'failed!', err);
        return false;
    }
    return true;
};

module.exports = runcmd;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVuY21kLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBQUEsSUFBQTs7QUFRQSxNQUFzQyxPQUFBLENBQVEsS0FBUixDQUF0QyxFQUFFLGVBQUYsRUFBUSxpQkFBUixFQUFlLG1CQUFmLEVBQXVCLFdBQXZCLEVBQTJCLGFBQTNCLEVBQWdDOztBQUVoQyxNQUFBLEdBQWMsT0FBQSxDQUFRLFVBQVI7O0FBQ2QsV0FBQSxHQUFjLE9BQUEsQ0FBUSxTQUFSOztBQUVkLE1BQUEsR0FBUyxTQUFDLEdBQUQsRUFBTSxPQUFOLEVBQWUsR0FBZjtBQUVMLFFBQUE7QUFBQTtRQUNJLE9BQUEsR0FBVSxLQUFLLENBQUMsT0FBTixDQUFjLEtBQUssQ0FBQyxJQUFOLENBQVcsU0FBWCxFQUFzQixJQUF0QixFQUE0QixLQUE1QixFQUFtQyxHQUFuQyxDQUFkO1FBRVYsSUFBRyxLQUFLLENBQUMsR0FBTixDQUFBLENBQUg7WUFDSSxPQUFBLEdBQVUsT0FBQSxHQUFRLE9BQVIsR0FBZ0IsR0FBaEIsR0FBbUIsUUFEakM7U0FBQSxNQUFBO1lBR0ksT0FBQSxHQUFhLE9BQUQsR0FBUyxHQUFULEdBQVksUUFINUI7O1FBS0EsSUFBRyxJQUFJLENBQUMsT0FBUjtZQUNHLE9BQUEsQ0FBQyxHQUFELENBQUssS0FBTCxFQUFZLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBckIsRUFBNEIsTUFBTSxDQUFDLFFBQVAsQ0FBZ0IsT0FBaEIsQ0FBNUIsRUFBc0QsT0FBTyxDQUFDLEtBQTlELEVBREg7O1FBR0EsTUFBTSxDQUFDLFFBQVAsQ0FBZ0IsT0FBaEIsRUFDSTtZQUFBLEdBQUEsRUFBVSxHQUFWO1lBQ0EsUUFBQSxFQUFVLE1BRFY7WUFFQSxLQUFBLEVBQVUsU0FGVjtZQUdBLEtBQUEsRUFBVSxJQUhWO1NBREosRUFYSjtLQUFBLGFBQUE7UUFpQk07UUFDRixXQUFBLENBQVksZUFBWixFQUE2QixXQUFBLEdBQVksR0FBWixHQUFnQixLQUFoQixHQUFxQixPQUFyQixHQUE2QixJQUE3QixHQUFpQyxTQUE5RCxFQUEyRSxHQUEzRTtBQUNBLGVBQU8sTUFuQlg7O1dBb0JBO0FBdEJLOztBQXdCVCxNQUFNLENBQUMsT0FBUCxHQUFpQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuMDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgIDAwICAgICAwMCAgMDAwMDAwMCAgXG4wMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMCAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDBcbjAwMDAwMDAgICAgMDAwICAgMDAwICAwMDAgMCAwMDAgIDAwMCAgICAgICAwMDAwMDAwMDAgIDAwMCAgIDAwMFxuMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgMDAwICAgICAgIDAwMCAwIDAwMCAgMDAwICAgMDAwXG4wMDAgICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwICBcbiMjI1xuXG57IGFyZ3MsIHNsYXNoLCBjaGlsZHAsIG9zLCBsb2csIF8gfSA9IHJlcXVpcmUgJ2t4aydcblxucHJldHR5ICAgICAgPSByZXF1aXJlICcuL3ByZXR0eSdcbmtvbnJhZEVycm9yID0gcmVxdWlyZSAnLi9lcnJvcidcblxucnVuY21kID0gKGNtZCwgY21kYXJncywgY3dkKSAtPlxuICAgIFxuICAgIHRyeVxuICAgICAgICBjbWRwYXRoID0gc2xhc2gucmVzb2x2ZSBzbGFzaC5qb2luIF9fZGlybmFtZSwgJy4uJywgJ2JpbicsIGNtZFxuICAgICAgICBcbiAgICAgICAgaWYgc2xhc2gud2luKClcbiAgICAgICAgICAgIGNvbW1hbmQgPSBcImJhc2ggI3tjbWRwYXRofSAje2NtZGFyZ3N9XCJcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29tbWFuZCA9IFwiI3tjbWRwYXRofSAje2NtZGFyZ3N9XCJcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBhcmdzLnZlcmJvc2VcbiAgICAgICAgICAgIGxvZyBcIvCflKcgXCIsIGNtZC5ncmF5LnJlc2V0LCBwcmV0dHkuZmlsZVBhdGgoY21kcGF0aCksIGNtZGFyZ3MuZ3JlZW5cbiAgICAgICAgICAgIFxuICAgICAgICBjaGlsZHAuZXhlY1N5bmMgY29tbWFuZCxcbiAgICAgICAgICAgIGN3ZDrCoCAgICAgY3dkXG4gICAgICAgICAgICBlbmNvZGluZzrCoCd1dGY4J1xuICAgICAgICAgICAgc3RkaW86wqAgICAnaW5oZXJpdCdcbiAgICAgICAgICAgIHNoZWxsOiAgICB0cnVlXG4gICAgICAgICAgXG4gICAgY2F0Y2ggZXJyXG4gICAgICAgIGtvbnJhZEVycm9yIFwiY29tbWFuZCBlcnJvclwiLCBcImNvbW1hbmQgJyN7Y21kfScgKCN7Y29tbWFuZH0pICN7J2ZhaWxlZCEnfVwiLCBlcnJcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgdHJ1ZVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJ1bmNtZFxuIl19
//# sourceURL=../coffee/runcmd.coffee