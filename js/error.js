(function() {
  /*
  00000000  00000000   00000000    0000000   00000000
  000       000   000  000   000  000   000  000   000
  0000000   0000000    0000000    000   000  0000000
  000       000   000  000   000  000   000  000   000
  00000000  000   000  000   000   0000000   000   000
  */
  var konradError, log, pretty, slash;

  ({slash} = require('kxk'));

  log = console.log;

  pretty = require('./pretty');

  konradError = function(title, msg, srcFile) {
    var col, errStr, file, fileLine, line, rest, sourceFile, splitted, stripped;
    stripped = String(msg).strip;
    splitted = stripped.split('\n');
    if (title === 'compile error') {
      [fileLine, rest] = splitted[0].split(': ');
      [file, line, col] = slash.splitFileLine(fileLine);
      splitted[0] = rest.bold.yellow;
      errStr = splitted.join('\n');
      if (srcFile) {
        file = slash.tilde(srcFile);
      }
      sourceFile = file;
      if (line) {
        sourceFile += `:${line}`;
      }
      if (col) {
        sourceFile += `:${col}`;
      }
      log(pretty.time(), `ðŸ˜¡  ${pretty.filePath(sourceFile)}\n${errStr}`);
    } else {
      log(`${title.bold.yellow} ${(String(stripped).red)}`);
    }
    return false;
  };

  module.exports = konradError;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXMiOlsiLi4vY29mZmVlL2Vycm9yLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFBOzs7Ozs7O0FBQUEsTUFBQSxXQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQTs7RUFRQSxDQUFBLENBQUUsS0FBRixDQUFBLEdBQVksT0FBQSxDQUFRLEtBQVIsQ0FBWjs7RUFFQSxHQUFBLEdBQU0sT0FBTyxDQUFDOztFQUNkLE1BQUEsR0FBUyxPQUFBLENBQVEsVUFBUjs7RUFFVCxXQUFBLEdBQWMsUUFBQSxDQUFDLEtBQUQsRUFBUSxHQUFSLEVBQWEsT0FBYixDQUFBO0FBRVYsUUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxFQUFBO0lBQUEsUUFBQSxHQUFXLE1BQUEsQ0FBTyxHQUFQLENBQVcsQ0FBQztJQUN2QixRQUFBLEdBQVcsUUFBUSxDQUFDLEtBQVQsQ0FBZSxJQUFmO0lBRVgsSUFBRyxLQUFBLEtBQVMsZUFBWjtNQUVJLENBQUMsUUFBRCxFQUFXLElBQVgsQ0FBQSxHQUFtQixRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsS0FBWixDQUFrQixJQUFsQjtNQUNuQixDQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsR0FBYixDQUFBLEdBQW9CLEtBQUssQ0FBQyxhQUFOLENBQW9CLFFBQXBCO01BQ3BCLFFBQVMsQ0FBQSxDQUFBLENBQVQsR0FBYyxJQUFJLENBQUMsSUFBSSxDQUFDO01BQ3hCLE1BQUEsR0FBUyxRQUFRLENBQUMsSUFBVCxDQUFjLElBQWQ7TUFFVCxJQUFHLE9BQUg7UUFDSSxJQUFBLEdBQU8sS0FBSyxDQUFDLEtBQU4sQ0FBWSxPQUFaLEVBRFg7O01BR0EsVUFBQSxHQUFhO01BQ2IsSUFBNEIsSUFBNUI7UUFBQSxVQUFBLElBQWMsQ0FBQSxDQUFBLENBQUEsQ0FBSSxJQUFKLENBQUEsRUFBZDs7TUFDQSxJQUEyQixHQUEzQjtRQUFBLFVBQUEsSUFBYyxDQUFBLENBQUEsQ0FBQSxDQUFJLEdBQUosQ0FBQSxFQUFkOztNQUVBLEdBQUEsQ0FBSSxNQUFNLENBQUMsSUFBUCxDQUFBLENBQUosRUFBbUIsQ0FBQSxJQUFBLENBQUEsQ0FBTyxNQUFNLENBQUMsUUFBUCxDQUFnQixVQUFoQixDQUFQLENBQWtDLEVBQWxDLENBQUEsQ0FBc0MsTUFBdEMsQ0FBQSxDQUFuQixFQWRKO0tBQUEsTUFBQTtNQWdCSSxHQUFBLENBQUksQ0FBQSxDQUFBLENBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFkLEVBQUEsQ0FBQSxDQUF1QixDQUFDLE1BQUEsQ0FBTyxRQUFQLENBQWdCLENBQUMsR0FBbEIsQ0FBdkIsQ0FBQSxDQUFKLEVBaEJKOztXQWlCQTtFQXRCVTs7RUF3QmQsTUFBTSxDQUFDLE9BQVAsR0FBaUI7QUFyQ2pCIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4wMDAwMDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMDBcbjAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDBcbjAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAgMDAwICAgMDAwICAwMDAwMDAwXG4wMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwXG4wMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwXG4jIyNcblxueyBzbGFzaCB9ID0gcmVxdWlyZSAna3hrJ1xuXG5sb2cgPSBjb25zb2xlLmxvZ1xucHJldHR5ID0gcmVxdWlyZSAnLi9wcmV0dHknXG5cbmtvbnJhZEVycm9yID0gKHRpdGxlLCBtc2csIHNyY0ZpbGUpIC0+XG4gICAgXG4gICAgc3RyaXBwZWQgPSBTdHJpbmcobXNnKS5zdHJpcFxuICAgIHNwbGl0dGVkID0gc3RyaXBwZWQuc3BsaXQgJ1xcbidcblxuICAgIGlmIHRpdGxlID09ICdjb21waWxlIGVycm9yJ1xuICAgICAgICBcbiAgICAgICAgW2ZpbGVMaW5lLCByZXN0XSA9IHNwbGl0dGVkWzBdLnNwbGl0ICc6ICdcbiAgICAgICAgW2ZpbGUsIGxpbmUsIGNvbF0gPSBzbGFzaC5zcGxpdEZpbGVMaW5lIGZpbGVMaW5lXG4gICAgICAgIHNwbGl0dGVkWzBdID0gcmVzdC5ib2xkLnllbGxvd1xuICAgICAgICBlcnJTdHIgPSBzcGxpdHRlZC5qb2luICdcXG4nXG4gICAgICAgIFxuICAgICAgICBpZiBzcmNGaWxlXG4gICAgICAgICAgICBmaWxlID0gc2xhc2gudGlsZGUgc3JjRmlsZVxuICAgICAgICAgICAgXG4gICAgICAgIHNvdXJjZUZpbGUgPSBmaWxlXG4gICAgICAgIHNvdXJjZUZpbGUgKz0gXCI6I3tsaW5lfVwiIGlmIGxpbmVcbiAgICAgICAgc291cmNlRmlsZSArPSBcIjoje2NvbH1cIiBpZiBjb2xcbiAgICAgICAgXG4gICAgICAgIGxvZyBwcmV0dHkudGltZSgpLCBcIvCfmKEgICN7cHJldHR5LmZpbGVQYXRoIHNvdXJjZUZpbGV9XFxuI3tlcnJTdHJ9XCJcbiAgICBlbHNlXG4gICAgICAgIGxvZyBcIiN7dGl0bGUuYm9sZC55ZWxsb3d9ICN7U3RyaW5nKHN0cmlwcGVkKS5yZWR9XCJcbiAgICBmYWxzZVxuICAgIFxubW9kdWxlLmV4cG9ydHMgPSBrb25yYWRFcnJvclxuIl19
//# sourceURL=../coffee/error.coffee